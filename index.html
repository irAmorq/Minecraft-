<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ماینکرافت آدونز</title>

  <!-- فونت لاله‌زار -->
  <link href="https://fonts.googleapis.com/css2?family=Lalezar&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0b0b0b;
      --card:#151515;
      --card-2:#1b1b1b;
      --fg:#fff;
      --accent:#39d353;
      --max-floaters:24; /* بیشینه‌ی آیتم‌های همزمان روی صحنه */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--fg);
      font-family:"Lalezar", system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Kufi Arabic", sans-serif;
      overflow-x:hidden;
    }

    .wrap{
      max-width:920px; margin:0 auto; padding:24px 16px 120px;
      position:relative;
    }

    header{
      display:flex; align-items:center; justify-content:space-between;
      gap:16px; background:linear-gradient(180deg,#202020,#181818);
      border:1px solid #2b2b2b; border-radius:18px; padding:18px 20px; margin-bottom:16px;
      box-shadow:0 10px 30px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.02);
    }
    .brand{display:flex; align-items:center; gap:12px}
    .brand-logo{
      width:48px; height:48px; border-radius:12px; background:#2a2a2a;
      display:grid; place-items:center; overflow:hidden;
    }
    .brand h1{
      font-size:28px; margin:0; letter-spacing:.3px; color:#eaeaea;
    }

    .card{
      background:var(--card); border:1px solid #2b2b2b; border-radius:18px;
      padding:18px; margin:16px 0; box-shadow:0 10px 30px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.02);
    }
    .version-details{font-size:18px; line-height:1.9}

    /* باکس دانلود: متن وسط، فقط عکس لینک است */
    .download-area{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      background:var(--card-2); border:1px dashed #2f2f2f; border-radius:18px; padding:14px 16px;
      margin-top:10px;
    }
    .download-texts{
      flex:1; text-align:center;
      display:grid; place-items:center;
    }
    .download-texts .ttl{font-size:22px}
    .download-texts .sub{opacity:.85; font-size:16px}
    .download-btn-image{
      width:180px; /* اندازه کنترل‌شده */
      max-width:45vw; height:auto; display:block;
      border-radius:14px; box-shadow:0 6px 20px rgba(0,0,0,.4);
      transition:transform .12s ease, filter .12s ease;
    }
    .download-btn-image:hover{transform:translateY(-2px)}
    .separator{height:1px; background:#2a2a2a; margin:18px 0}

    /* باکس ایتا */
    .eitaa-box{
      display:flex; align-items:center; gap:10px; padding:12px 14px; border-radius:14px;
      background:var(--card-2); border:1px solid #2b2b2b; text-decoration:none; color:var(--fg);
      transition:transform .12s ease;
    }
    .eitaa-box:hover{transform:translateY(-2px)}
    .eitaa-image{width:36px; height:36px; border-radius:8px; display:block}
    .eitaa-text{font-size:18px}

    footer{opacity:.8; text-align:center; margin-top:22px; font-size:16px}

    /* بوم انیمیشن‌ها */
    .floaters-stage{
      position:fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden;
    }
    .floater{
      position:fixed; will-change:transform, opacity;
      image-rendering: pixelated; /* حس پیکسلی ماینکرافت */
      filter: drop-shadow(0 8px 12px rgba(0,0,0,.45));
      user-select:none; -webkit-user-drag: none;
    }

    /* لایه محتوا بالاتر از انیمیشن‌ها */
    .wrap, .overlay{position:relative; z-index:2}

    /* اورلی شروع موسیقی */
    .overlay{
      position:fixed; inset:0; background:rgba(0,0,0,.65);
      display:flex; align-items:center; justify-content:center;
      text-align:center; padding:24px; backdrop-filter: blur(3px);
    }
    .overlay.hidden{display:none}
    .overlay .panel{
      background:#141414; border:1px solid #2c2c2c; border-radius:20px; padding:18px 20px; max-width:420px;
      box-shadow:0 10px 30px rgba(0,0,0,.45);
    }
    .overlay h2{margin:0 0 10px; font-size:24px}
    .overlay button{
      margin-top:10px; border:0; border-radius:12px; padding:10px 16px; font-family:inherit;
      font-size:18px; background:var(--accent); color:#0b2b12; cursor:pointer;
    }
  </style>
</head>
<body>

  <!-- صحنه انیمیشن آیتم‌ها -->
  <div class="floaters-stage" id="floatersStage" aria-hidden="true"></div>

  <!-- اورلی آغاز پخش موسیقی (لازم برای سیاست‌های مرورگر) -->
  <div class="overlay" id="musicOverlay">
    <div class="panel">
      <h2>برای شروع ضربه بزنید</h2>
      <p>با لمس/کلیک شما، موسیقی بازی به صورت پشت‌سرهم پخش می‌شود.</p>
      <button id="startBtn">شروع</button>
    </div>
  </div>

  <div class="wrap">
    <header>
      <div class="brand">
        <div class="brand-logo">
          <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Grass_Block_from_Minecraft.png" alt="Minecraft" width="48" height="48">
        </div>
        <h1>ماینکرافت آدونز</h1>
      </div>
    </header>

    <section class="card">
      <div class="version-details">آخرین نسخه رسمی • اندروید</div>
      <div class="version-details">حجم: 303 مگابایت</div>

      <div class="download-area">
        <div class="download-texts">
          <div class="ttl">دانلود نسخه اندروید</div>
          <div class="sub">پایدار و تست‌شده</div>
        </div>
        <!-- فقط تصویر قابل کلیک است -->
        <a href="#" id="downloadLink" aria-label="دانلود">
          <img
            src="https://uploadkon.ir/uploads/255b13_25Negar-1755081442153.png"
            alt="دانلود"
            class="download-btn-image"
            id="downloadBtnImg">
        </a>
      </div>
    </section>

    <div class="separator"></div>

    <!-- ایتا: تصویر جدید -->
    <a href="https://eitaa.com/Minecraft_Addons" class="eitaa-box" target="_blank" rel="noopener">
      <img
        src="https://uploadkon.ir/uploads/eaf613_25IMG-%DB%B2%DB%B0%DB%B2%DB%B5%DB%B0%DB%B8%DB%B1%DB%B3-%DB%B1%DB%B2%DB%B1%DB%B3%DB%B0%DB%B2.png"
        alt="کانال ایتا"
        class="eitaa-image">
      <div class="eitaa-text">ماینکرافت آدونز در ایتا</div>
    </a>

    <footer>
      <p>© 2022 ماینکرافت آدونز - تمامی حقوق محفوظ است</p>
    </footer>
  </div>

  <!-- پخش‌کننده پنهان (بدون کنترل‌ها) -->
  <audio id="player" preload="auto"></audio>

  <script>
    /* ---------- دانلود: اگر لینک دانلود دارید اینجا قرار دهید ---------- */
    // لینک دانلود فایل APK/… (اگر ندارید همین # بماند)
    document.getElementById('downloadLink').href = '#';

    /* ---------- پلی‌لیست موسیقی (بی‌نهایت پس از اولین تعامل) ---------- */
    const tracks = [
      "https://dl.sedatoseda.com/sound/Music-Minecraft%20(2).mp3",
      "https://dl.sedatoseda.com/sound/Music-Minecraft%20(4).mp3"
    ];
    const player = document.getElementById('player');
    let trackIndex = 0;

    function playCurrent(){
      player.src = tracks[trackIndex % tracks.length];
      player.play().catch(()=>{ /* اگر مرورگر مانع شد کاری نکن */ });
      trackIndex++;
    }
    player.addEventListener('ended', playCurrent);

    const overlay = document.getElementById('musicOverlay');
    const startBtn = document.getElementById('startBtn');
    function startMusicOnce(){
      overlay.classList.add('hidden');
      playCurrent();
      // از اینجا به بعد آهنگ‌ها پشت‌سرهم پخش می‌شوند
      window.removeEventListener('click', startMusicOnce);
      window.removeEventListener('touchstart', startMusicOnce);
      startBtn.removeEventListener('click', startMusicOnce);
    }
    window.addEventListener('click', startMusicOnce, {once:true});
    window.addEventListener('touchstart', startMusicOnce, {once:true});
    startBtn.addEventListener('click', startMusicOnce, {once:true});

    /* ---------- انیمیشن تصادفی آیتم‌ها از همه جهات (بی‌نهایت) ---------- */
    const stage = document.getElementById('floatersStage');

    const imagePool = [
      // کلنگ‌ها
      "https://minecraft.wiki/images/Iron_Pickaxe_JE3_BE2.png?8a6ea",
      "https://minecraft.wiki/images/Copper_Pickaxe_JE1_BE1.png?3b91b&format=original",
      "https://minecraft.wiki/images/Stone_Pickaxe_JE2_BE2.png?650b0&format=original",
      "https://minecraft.wiki/images/Diamond_Pickaxe_JE3_BE3.png?7409d&format=original",
      "https://minecraft.wiki/images/Netherite_Pickaxe_JE3.png?36cb3&format=original",
      // لینک‌های صفحه ویکی (فایل) به تصویر مستقیم ختم نمی‌شوند؛ حذف‌شان کردیم
      // تبرها
      "https://minecraft.wiki/images/Netherite_Axe_JE2.png?52d88&format=original",
      "https://minecraft.wiki/images/Diamond_Axe_JE3_BE3.png?99125&format=original",
      "https://minecraft.wiki/images/Iron_Axe_JE5_BE2.png?5b5c3&format=original",
      "https://minecraft.wiki/images/Copper_Axe_JE1_BE1.png?014ea&format=original",
      "https://minecraft.wiki/images/Stone_Axe_JE2_BE2.png?d33a8&format=original",
      "https://minecraft.wiki/images/Wooden_Axe_JE2_BE2.png?ff0b9&format=original",
      "https://minecraft.wiki/images/Golden_Axe_JE3_BE2.png?2e133&format=original",
      // شمشیرها
      "https://minecraft.wiki/images/Netherite_Sword_JE2_BE2.png?8e866&format=original",
      "https://minecraft.wiki/images/Diamond_Sword_JE3_BE3.png?24296&format=original",
      "https://minecraft.wiki/images/Copper_Sword_JE1_BE1.png?315d2&format=original",
      "https://minecraft.wiki/images/Iron_Sword_JE2_BE2.png?62770&format=original",
      "https://minecraft.wiki/images/Stone_Sword_JE2_BE2.png?d003e&format=original",
      "https://minecraft.wiki/images/Wooden_Sword_JE2_BE2.png?065ee&format=original",
      "https://minecraft.wiki/images/Golden_Sword_JE3_BE2.png?0ea76&format=original",
    ];

    const MAX = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--max-floaters')) || 24;
    let liveCount = 0;

    function rand(min, max){ return Math.random() * (max - min) + min; }
    function pick(arr){ return arr[Math.floor(Math.random() * arr.length)]; }

    function spawnFloater(){
      if(liveCount >= MAX){ return; }
      const img = document.createElement('img');
      img.className = 'floater';
      img.src = pick(imagePool);
      img.alt = "";
      const size = rand(42, 96); // اندازه پیکسلی
      img.style.width = size + 'px';
      img.style.height = 'auto';
      img.style.opacity = '0';

      // انتخاب یک لبه‌ی شروع و پایان تصادفی
      const w = window.innerWidth, h = window.innerHeight;
      const edge = Math.floor(rand(0,4)); // 0: راست, 1: چپ, 2: بالا, 3: پایین
      let startX, startY, endX, endY;

      const pad = 40; // کمی خارج از صفحه
      switch(edge){
        case 0: // از راست به چپ
          startX = w + pad; startY = rand(-pad, h + pad);
          endX   = -pad;    endY   = startY + rand(-h*0.35, h*0.35);
          break;
        case 1: // از چپ به راست
          startX = -pad;    startY = rand(-pad, h + pad);
          endX   = w + pad; endY   = startY + rand(-h*0.35, h*0.35);
          break;
        case 2: // از بالا به پایین
          startX = rand(-pad, w + pad); startY = -pad;
          endX   = startX + rand(-w*0.35, w*0.35); endY = h + pad;
          break;
        default: // از پایین به بالا
          startX = rand(-pad, w + pad); startY = h + pad;
          endX   = startX + rand(-w*0.35, w*0.35); endY = -pad;
      }

      img.style.transform = `translate(${startX}px, ${startY}px) rotate(${rand(-25,25)}deg)`;
      stage.appendChild(img);
      liveCount++;

      const duration = rand(6000, 12000); // مدت حرکت
      const keyframes = [
        { transform: `translate(${startX}px, ${startY}px) rotate(${rand(-25,25)}deg)`, opacity: 0 },
        { offset: .08, opacity: .95 },
        { transform: `translate(${endX}px, ${endY}px) rotate(${rand(-25,25)}deg)`, opacity: 0 }
      ];
      const anim = img.animate(keyframes, { duration, easing: 'linear' });

      anim.onfinish = () => { img.remove(); liveCount--; };
    }

    // حلقه‌ی بی‌نهایت: با نرخ متغیر، آیتم جدید می‌سازد
    function pump(){
      // هر بار 1 تا 3 آیتم اسپاون می‌کنیم (اگر ظرفیت داشتیم)
      const burst = Math.min(Math.floor(rand(1,4)), MAX - liveCount);
      for(let i=0;i<burst;i++){ spawnFloater(); }
      // بازه‌ی زمانی تصادفی بین 200 تا 800 میلی‌ثانیه
      setTimeout(pump, rand(200, 800));
    }
    pump();

    // واکنش به تغییر اندازه صفحه
    window.addEventListener('resize', () => { /* پارامترها به‌صورت زنده خوانده می‌شوند */ });

    /* ---------- نکات دسترسی کوچک ---------- */
    // جلوگیری از درگ تصویر دکمه دانلود
    document.getElementById('downloadBtnImg').addEventListener('dragstart', e => e.preventDefault());
  </script>
</body>
</html>
